# 클러스터링 인덱스 (Clustered Index)

## 정의
- 테이블 데이터 자체가 인덱스 순서대로 정렬되어 저장되는 구조. InnoDB는 항상 기본키 클러스터링 인덱스를 사용한다.
- 하나의 테이블에는 하나의 클러스터링 인덱스만 존재할 수 있다.

## 장점
- 범위 검색, ORDER BY, MIN/MAX 쿼리에 최적화.
- 데이터와 인덱스가 동일 구조여서 PK 기반 조회가 빠르다.

## 단점
- PK 변경/랜덤 삽입 시 페이지 분할이 잦아져 I/O 비용 증가.
- 보조 인덱스가 클러스터링 키를 포인터로 사용하므로, 키 크기가 커지면 보조 인덱스도 비대해진다.

## 설계 고려 사항
- 증가형 PK(시퀀스, auto_increment) 또는 시간 기반 키를 사용해 조각화를 줄인다.
- UUID 등을 PK로 사용할 경우 정렬형 UUID(버전 1/6/7) 또는 별도 surrogate key를 도입한다.
- PK를 바꾸기 어렵기 때문에 테이블 설계 초기 단계에서 결정하고 문서화한다.
